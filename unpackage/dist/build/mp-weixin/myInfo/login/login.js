(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["myInfo/login/login"],{"44b1":function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement;e._self._c},r=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}))},6385:function(e,n,t){},"6faa":function(e,n,t){"use strict";t.r(n);var o=t("83eb"),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},7266:function(e,n,t){"use strict";(function(e){t("a28b");o(t("66fd"));var n=o(t("7ce9"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"7ce9":function(e,n,t){"use strict";t.r(n);var o=t("44b1"),i=t("6faa");for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("8257");var a,u=t("f0c5"),s=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=s.exports},8257:function(e,n,t){"use strict";var o=t("6385"),i=t.n(o);i.a},"83eb":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t("5ce2")),i=t("2f62");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c={data:function(){return{phoneNumber:"15607195236",passwd:"123456",isShowOauth:!1,showProvider:{weixin:!1,qq:!1,sinaweibo:!1,xiaomi:!1}}},onShow:function(){this.loginStartus},onLoad:function(){this.getProvider()},computed:u({},(0,i.mapState)({loginStartus:function(e){return e.user.loginStartus},loginNumber:function(e){return e.user.loginNumber}})),methods:u({},(0,i.mapMutations)(["login","verifyLogin"]),{oauthLogin:function(n){var t=this;e.showLoading({title:"登入中"}),e.login({provider:n,success:function(o){console.log("success:"+n,o),e.getUserInfo({provider:n,success:function(o){console.log("用户信息："+n,o);var i={userId:989,username:o.userInfo.nickName,avator:o.userInfo.avatarUrl,token:o.userInfo.openid||"sahgiodhaoiweiob23879sdhanadsSFSDFWEfkslfag",signature:"个性签名",integral:0,balance:0,envelope:0};t.login(i),e.hideLoading(),t.$api.msg("登录成功",1500),setTimeout((function(){e.navigateBack()}),300)}})},fail:function(n){console.log("授权fail: "+JSON.stringify(n)),e.hideLoading(),t.$api.msg("授权登入失败")},complete:function(e){console.log("授权成功失败",e)}}),e.hideLoading()},getProvider:function(){var n=this;e.getProvider({service:"oauth",success:function(e){for(var t=e.provider.length,o=0;o<t;o++)n.showProvider[e.provider[o]]=!0;0==e.provider.length&&(n.isShowOauth=!1)}})},toPage:function(n){e.hideKeyboard(),e.navigateTo({url:n})},doLogin:function(){var n=this,t=this;if(e.hideKeyboard(),!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return this.$api.msg("请填写正确手机号码"),!1;e.showLoading({title:"提交中..."}),this.$http.request({url:"/login",data:{iphon:this.phoneNumber,pwd:(0,o.default)(this.passwd)}}).then((function(o){console.log(o);var i=n.loginNumber.some((function(e){if(e.phoneNumber===n.phoneNumber&&e.passwd===n.passwd)return!0}));console.log(i),i?(t.login(o.userInfo),t.$api.msg("登录成功"),setTimeout((function(){e.navigateBack()}),300)):t.$api.msg("登入失败，请检查账号或者密码是否正确",3e3)}))},wxLongin:function(n){if(n.detail){var t={username:n.detail.userInfo.nickName,userId:n.detail.cloudID,avator:n.detail.userInfo.avatarUrl,token:n.detail.encryptedData};this.login(t),this.$api.msg("登录成功"),setTimeout((function(){e.navigateBack()}),300)}else this.$api.msg("获取登入信息失败,检查获取用户信息接口")}})};n.default=c}).call(this,t("543d")["default"])}},[["7266","common/runtime","common/vendor"]]]);